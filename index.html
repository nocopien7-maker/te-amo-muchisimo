<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>¬°TE AMO DEMASIADO!</title>
<style>
  :root{
    --bg: #f2e6d6;              /* beige/crema de fondo */
    --text:#2b1e1e;             /* texto principal (oscuro) */
    --pink1:#ff9ecb;            /* coraz√≥n rosado base */
    --pink2:#ff7fb0;            /* rosado m√°s intenso para degrad√© */
    --bubble: rgba(255,255,255,.38);
  }
  *{ box-sizing:border-box }
  html,body{ height:100% }
  body{
    margin:0; background:var(--bg); color:var(--text);
    font-family: ui-sans-serif, -apple-system, Segoe UI, Roboto, Arial, "Noto Color Emoji","Apple Color Emoji", sans-serif;
    overflow:hidden;
  }

  /* === FONDO: estilo ‚Äúprimer c√≥digo‚Äù (emoji alternando y con estela/blur) === */
  #fx{
    position:fixed; inset:0; z-index:0; display:block;
    background:
      radial-gradient(1200px 700px at 50% -220px, rgba(255,170,210,.18), transparent 60%),
      var(--bg);
  }

  /* === OVERLAY de entrada === */
  .gate{
    position:fixed; inset:0; z-index:3; background: var(--bg);
    display:flex; align-items:center; justify-content:center; flex-direction:column;
    gap:16px; text-align:center; padding:24px;
  }
  .gate h1{ margin:0; font-size: clamp(28px, 8vw, 46px); font-weight:900; letter-spacing:.02em; }
  .enterBtn{
    border:0; border-radius:18px; padding:12px 22px; font-size:16px; font-weight:700;
    background: var(--pink1); color:#3a0f1f; cursor:pointer;
    box-shadow: 0 10px 26px rgba(0,0,0,.12), inset 0 0 0 2px rgba(0,0,0,.25);
  }
  .enterHint{ max-width:560px; opacity:.8; font-size:14px }

  /* === BOT√ìN AUDIO fijo abajo-derecha === */
  .audio-toggle{
    position:fixed; right:18px; bottom:18px; z-index:4;
    width:58px; height:58px; border-radius:50%;
    display:flex; align-items:center; justify-content:center;
    background: var(--bubble); backdrop-filter: blur(10px);
    border:1px solid rgba(0,0,0,.15);
    box-shadow: 0 10px 24px rgba(0,0,0,.15);
    cursor:pointer; user-select:none; transition: transform .12s ease;
  }
  .audio-toggle:active{ transform: scale(0.96); }
  .audio-toggle span{ font-size:24px; line-height:1 }

  /* === ESCENA 1 === */
  .scene{ position:relative; z-index:2; width:100%; height:100%; overflow:auto; }
  .wrap{ min-height:100%; display:flex; flex-direction:column; align-items:center; padding:7vh 24px 18vh; gap:28px; }

  .title{
    margin:0; text-align:center; font-weight:900;
    font-size: clamp(34px, 8vw, 72px);
    color:#ff2f7b;
    text-shadow: 0 2px 0 #fff, 0 0 18px rgba(255,120,180,.55);
    animation: floatY 3.6s ease-in-out infinite;
  }
  @keyframes floatY{ 0%,100%{transform:translateY(-6px)} 50%{transform:translateY(6px)} }

  /* Coraz√≥n grande con texto centrado (sin efecto al tocar) */
  .heart-card{ width:min(780px, 92vw); filter: drop-shadow(0 24px 34px rgba(0,0,0,.22)); }
  .heart-svg{ width:100%; height:auto; display:block; }
  .heart-fill{
    fill: url(#gPink);
    stroke: #000; stroke-width:6px;
    filter: drop-shadow(0 22px 28px rgba(0,0,0,.25));
  }
  .heart-text{
    width:100%; height:100%;
    display:flex; align-items:center; justify-content:center;
    padding: 22px 28px;
  }
  .heart-text p{
    margin:0; max-width: 520px;
    font-size: clamp(18px, 3.6vw, 24px);
    line-height: 1.55; text-align:center; color:#1d0f12; font-weight:700;
  }
</style>
</head>
<body>

<!-- 1) Fondo emojis estilo ‚Äúprimer c√≥digo‚Äù -->
<canvas id="fx"></canvas>

<!-- 2) Audio -->
<audio id="bgm" src="musica.mp3" preload="auto" playsinline loop></audio>

<!-- 3) Overlay de entrada -->
<div class="gate" id="gate">
  <h1>¬°TOCA PARA ENTRAR!</h1>
  <button class="enterBtn" id="enterBtn">Si me am√°s, toca aqu√≠</button>
  <div class="enterHint">Y si no quer√©s, no pasa nada si no toc√°s ü•∫</div>
</div>

<!-- 4) Bot√≥n audio -->
<button class="audio-toggle" id="audioToggle" aria-label="Alternar sonido">
  <span>üîá</span>
</button>

<!-- 5) Escena 1 -->
<section class="scene" id="scene1">
  <div class="wrap">
    <h1 class="title">¬°TE AMO DEMASIADO!</h1>

    <div class="heart-card" id="heart1">
      <svg class="heart-svg" viewBox="0 0 360 320" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="gPink" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%"  stop-color="#ff9ecb"/>
            <stop offset="100%" stop-color="#ff7fb0"/>
          </linearGradient>
        </defs>
        <!-- coraz√≥n -->
        <path class="heart-fill" d="M180,40
             C145,5 70,22 56,96
             c-9,56 34,100 124,176
             c90,-76 133,-120 124,-176
             C290,22 215,5 180,40 Z"/>
        <!-- texto centrado dentro -->
        <foreignObject x="20" y="60" width="320" height="220">
          <div xmlns="http://www.w3.org/1999/xhtml" class="heart-text">
            <p>
              Agustina, te amo demasiado. Sos lo mejor que me pas√≥ en la vida.
              Soy capaz de todo por ti, mover√≠a cielo, mar, tierra y aire;
              pero no soy capaz de hablarle a otra mujer, ni por aburrimiento
              ni porque no hablemos tan seguido. En serio quiero demostrarte
              que mi coraz√≥n te pertenece solo a ti y a nadie m√°s. Te amo ü§ç
            </p>
          </div>
        </foreignObject>
      </svg>
    </div>

  </div>
</section>

<script>
/* ====== AUDIO ====== */
const audio  = document.getElementById('bgm');
const gate   = document.getElementById('gate');
const enter  = document.getElementById('enterBtn');
const toggle = document.getElementById('audioToggle');

enter.addEventListener('click', async ()=>{
  try{
    audio.volume = 1.0;          // 100%
    audio.muted  = false;
    await audio.play();
    gate.style.display = 'none';
    toggle.textContent = 'üîä';
  }catch(e){
    alert('Si no se escucha, toc√° de nuevo para habilitar el sonido.');
  }
});
toggle.addEventListener('click', ()=>{
  audio.muted = !audio.muted;
  toggle.textContent = audio.muted ? 'üîá' : 'üîä';
});

/* ====== FONDO ‚Äúprimer c√≥digo‚Äù: emojis alternando con estela ====== */
const canvas = document.getElementById('fx');
const ctx = canvas.getContext('2d');
let W=0,H=0,dpr=1;
function resize(){
  dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
  W = canvas.width  = Math.floor(window.innerWidth  * dpr);
  H = canvas.height = Math.floor(window.innerHeight * dpr);
}
window.addEventListener('resize', resize, {passive:true});
resize();

const glyphs = ['üíñ','üíó','üíï','üíû','üíì','üê±','üò∫','üòª','üò∏'];
const cols = [];
function initCols(){
  cols.length = 0;
  const colW = Math.floor(26*dpr);
  const n = Math.ceil(W / colW);
  for(let i=0;i<n;i++){
    cols.push({
      x: i*colW + colW/2,
      y: Math.random()*-H,
      speed: (H/8 + Math.random()*H/6), // px/s
      step: 1/12,                        // 12 fps ‚Äústop-motion‚Äù
      acc: 0
    });
  }
}
initCols();
window.addEventListener('resize', initCols, {passive:true});

function draw(){
  // estela suave
  ctx.fillStyle = 'rgba(242,230,214,0.22)';
  ctx.fillRect(0,0,W,H);

  for(const c of cols){
    c.acc += 1/60;
    if(c.acc >= c.step){
      c.y += c.speed * c.acc;
      c.acc = 0;
    }
    if(c.y > H + 40*dpr) c.y = -Math.random()*H*0.3;

    const emoji = glyphs[(Math.random()*glyphs.length)|0]; // cambia cada frame (alucinadito)
    const size  = 18 + Math.random()*16;                   // tama√±o var√≠a (ligera ‚Äúdeformaci√≥n‚Äù)
    ctx.font = `${Math.floor(size*dpr)}px "Apple Color Emoji","Noto Color Emoji",system-ui`;
    ctx.lineWidth = 4*dpr;
    ctx.strokeStyle = 'rgba(0,0,0,.6)';                    // borde negro
    ctx.strokeText(emoji, c.x, c.y);
    ctx.fillText(emoji, c.x, c.y);
  }
  requestAnimationFrame(draw);
}
requestAnimationFrame(draw);
</script>
</body>
</html>
